{
  "topologyName": "AlarmFatigue-ComplexRules",
  "config": "{\"topology.workers\":5,\"topology.acker.executors\":1,\"topology.message.timeout.secs\":30,\"clustersSecurityConfig\":[{}],\"topology.worker.childopts\":\"-Xmx2048m\"}",
  "sources": [
    {
      "id": 22,
      "topologyId": 4,
      "topologyComponentBundleId": 1,
      "versionId": 6,
      "name": "ReceiveDeviceEvents",
      "description": "",
      "config": {
        "properties": {
          "cluster": "2",
          "consumerGroupId": "af_kafka_1",
          "retryDelayPeriodMs": 2,
          "maximumUncommittedOffsets": 10000000,
          "maxRecordsPerPoll": "500",
          "maximumRetries": 2147483647,
          "parallelism": 1,
          "emitNullTuples": false,
          "partitionRefreshPeriodMs": 2000,
          "securityProtocol": "PLAINTEXT",
          "bootstrapServers": "mukijo-1272-1-0.field.hortonworks.com:6667",
          "kafkaServiceName": "",
          "retryDelayMaximumMs": 10000,
          "fetchMaximumBytesPerPartition": "1048576",
          "firstPollOffsetStrategy": "UNCOMMITTED_EARLIEST",
          "sslTruststoreType": "JKS",
          "clusters": "alarmfatiguea1",
          "fetchMinimumBytes": "1",
          "consumerStartupDelayMs": 60000,
          "sslKeystoreType": "JKS",
          "sslTrustManagerAlgo": "PKIX",
          "retryInitialDelayMs": 0,
          "sslKeyManagerAlgo": "SunX509",
          "sslProtocol": "TLS",
          "topic": "afeventavro",
          "pollTimeoutMs": 200,
          "offsetCommitPeriodMs": 30000
        }
      },
      "outputStreams": [
        {
          "id": 16,
          "versionId": 6,
          "streamId": "kafka_stream_1",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": true
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": true
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": true
            },
            {
              "name": "DiagnosisDescription",
              "type": "STRING",
              "optional": true
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": true
            },
            {
              "name": "PatLocation",
              "type": "STRING",
              "optional": true
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": true
            },
            {
              "name": "SampleDuration",
              "type": "INTEGER",
              "optional": true
            },
            {
              "name": "Respiration",
              "type": "INTEGER",
              "optional": true
            },
            {
              "name": "PulseRate",
              "type": "INTEGER",
              "optional": true
            },
            {
              "name": "BloodPressureSystolic",
              "type": "INTEGER",
              "optional": true
            },
            {
              "name": "BloodPressureDiastolic",
              "type": "INTEGER",
              "optional": true
            },
            {
              "name": "BodyTemperature",
              "type": "FLOAT",
              "optional": true
            },
            {
              "name": "TransmissionTimestamp",
              "type": "STRING",
              "optional": true
            }
          ],
          "timestamp": 1508787629614
        }
      ],
      "timestamp": 1508787048457
    }
  ],
  "sinks": [
    {
      "id": 29,
      "topologyId": 4,
      "topologyComponentBundleId": 10,
      "versionId": 6,
      "name": "StoreDeviceEventsInHDFS",
      "description": "",
      "config": {
        "properties": {
          "fsUrl": "hdfs://mukijo-1272-1-0.field.hortonworks.com:8020",
          "outputFields": [
            "DeviceGUID",
            "DeviceId",
            "PatientId",
            "PatientName",
            "DiagnosisDescription",
            "HealthProviderName",
            "Location",
            "DoctorEmail",
            "SampleDuration",
            "Respiration",
            "PulseRate",
            "BloodPressureSystolic",
            "BloodPressureDiastolic",
            "BodyTemperature",
            "TransmissionTimestamp"
          ],
          "cluster": "1",
          "path": "/tmp/af",
          "extension": ".txt",
          "rotationPolicy": {
            "sizeBasedRotation": {
              "rotationSize": 100,
              "rotationSizeUnit": "MB"
            }
          },
          "prefix": "",
          "parallelism": 1,
          "topic": "",
          "countPolicyValue": 1,
          "clusters": "mukijo"
        }
      },
      "timestamp": 1508787629614
    },
    {
      "id": 32,
      "topologyId": 4,
      "topologyComponentBundleId": 16,
      "versionId": 6,
      "name": "AllDeviceEventCube",
      "description": "",
      "config": {
        "properties": {
          "cluster": "1",
          "clusterReplication": 1,
          "segmentGranularity": "FIVE_MINUTE",
          "indexRetryPeriod": "PT10M",
          "maxBatchSize": 2000,
          "maxPendingBatches": 5,
          "discoveryPath": "/druid/discovery",
          "clusterPartitions": 1,
          "windowPeriod": "PT10M",
          "aggregatorList": [
            {
              "count": {
                "name": "count"
              }
            },
            {
              "doublemax": {
                "fieldName": "PulseRate_AVG",
                "name": "PulseRate_AVG"
              }
            },
            {
              "doublemax": {
                "fieldName": "Respiration_AVG",
                "name": "Respiration_AVG"
              }
            },
            {
              "doublemax": {
                "fieldName": "BloodPressureSystolic_AVG",
                "name": "BloodPressureSystolic_AVG"
              }
            },
            {
              "doublemax": {
                "fieldName": "BloodPressureDiastolic_AVG",
                "name": "BloodPressureDiastolic_AVG"
              }
            },
            {
              "doublemax": {
                "fieldName": "BodyTemperature_AVG",
                "name": "BodyTemperature_AVG"
              }
            }
          ],
          "tranquilityZKconnect": "mukijo-1272-1-0.field.hortonworks.com:2181",
          "discardStreamId": "DRUID-DISCARD-STREAM-ID",
          "indexService": "druid/overlord",
          "blockOnFull": true,
          "timestampField": "processingTime",
          "lingerMillis": 0,
          "queryGranularity": "MINUTE",
          "dataSource": "alarm-fatigue-all-events-cube",
          "clusters": "mukijo",
          "dimensions": [
            "DeviceGUID",
            "DeviceId",
            "PatientId",
            "HealthProviderName",
            "DoctorEmail"
          ]
        }
      },
      "timestamp": 1508787629614
    },
    {
      "id": 30,
      "topologyId": 4,
      "topologyComponentBundleId": 16,
      "versionId": 6,
      "name": "AlertEvent",
      "description": "",
      "config": {
        "properties": {
          "cluster": "1",
          "clusterReplication": 1,
          "segmentGranularity": "FIVE_MINUTE",
          "indexRetryPeriod": "PT10M",
          "maxBatchSize": 2000,
          "maxPendingBatches": 5,
          "discoveryPath": "/druid/discovery",
          "clusterPartitions": 1,
          "windowPeriod": "PT10M",
          "aggregatorList": [
            {
              "count": {
                "name": "count"
              }
            },
            {
              "doublemax": {
                "name": "PulseRate_AVG",
                "fieldName": "PulseRate_AVG"
              }
            },
            {
              "doublemax": {
                "name": "Respiration_AVG",
                "fieldName": "Respiration_AVG"
              }
            },
            {
              "doublemax": {
                "name": "BloodPressureSystolic_AVG",
                "fieldName": "BloodPressureSystolic_AVG"
              }
            },
            {
              "doublemax": {
                "name": "BloodPressureDiastolic_AVG",
                "fieldName": "BloodPressureDiastolic_AVG"
              }
            },
            {
              "doublemax": {
                "fieldName": "BodyTemperature_AVG",
                "name": "BodyTemperature_AVG"
              }
            }
          ],
          "tranquilityZKconnect": "mukijo-1272-1-0.field.hortonworks.com:2181",
          "discardStreamId": "DRUID-DISCARD-STREAM-ID",
          "indexService": "druid/overlord",
          "blockOnFull": true,
          "timestampField": "processingTime",
          "lingerMillis": 0,
          "queryGranularity": "MINUTE",
          "dataSource": "device-event-alerts-cube",
          "clusters": "mukijo",
          "dimensions": [
            "DeviceId",
            "PatientId",
            "DoctorEmail",
            "DeviceGUID",
            "HealthProviderName"
          ]
        }
      },
      "timestamp": 1508787629614
    },
    {
      "id": 31,
      "topologyId": 4,
      "topologyComponentBundleId": 12,
      "versionId": 6,
      "name": "NotifyDoctor",
      "description": "",
      "config": {
        "properties": {
          "notifierName": "Email Notifier",
          "parallelism": 1,
          "className": "com.hortonworks.streamline.streams.notifiers.EmailNotifier",
          "fieldValues": {
            "contentType": "text/plain",
            "from": "hwx.nc.demo@gmail.com",
            "to": "hwx.nc.demo@gmail.com",
            "subject": "${PatientId} abnormal Pulse Rate of ${PulseRate_AVG}",
            "body": "${HealthProviderName},\n\nPatient ${PatientName} in location ${PatLocation} has an abnormal Pulse Rate of ${PulseRate_AVG}. \n\nDiagnosis: ${DiagnosisDescription}\n\nOther Patient Stats:\nTemperature: ${BodyTemperature_AVG}\nRespiration: ${Respiration_AVG}\nBlood Pressure: ${BloodPressureSystolic_AVG} / ${BloodPressureDiastolic_AVG}"
          },
          "notificationStoreClassName": "",
          "jarFileName": "notifiers-b69a2936-d072-4d1d-9832-8f4985c6cc23.jar",
          "properties": {
            "ssl": false,
            "starttls": true,
            "debug": false,
            "protocol": "smtp",
            "auth": true,
            "username": "hwx.nc.demo@gmail.com",
            "password": "Hwx1234.",
            "host": "smtp.gmail.com",
            "port": 587
          }
        }
      },
      "timestamp": 1508787629614
    },
    {
      "id": 33,
      "topologyId": 4,
      "topologyComponentBundleId": 12,
      "versionId": 6,
      "name": "NOTIFICATION",
      "description": "",
      "config": {
        "properties": {}
      },
      "timestamp": 1508787629614
    },
    {
      "id": 34,
      "topologyId": 4,
      "topologyComponentBundleId": 12,
      "versionId": 6,
      "name": "NOTIFICATION-1",
      "description": "",
      "config": {
        "properties": {}
      },
      "timestamp": 1508787629614
    },
    {
      "id": 35,
      "topologyId": 4,
      "topologyComponentBundleId": 12,
      "versionId": 6,
      "name": "NOTIFICATION-2",
      "description": "",
      "config": {
        "properties": {}
      },
      "timestamp": 1508787629614
    }
  ],
  "processors": [
    {
      "id": 27,
      "topologyId": 4,
      "topologyComponentBundleId": 5,
      "versionId": 6,
      "name": "CheckPatientStatsOverTime",
      "description": "",
      "config": {
        "properties": {
          "rules": [
            4
          ],
          "parallelism": 1
        }
      },
      "outputStreams": [
        {
          "id": 25,
          "versionId": 6,
          "streamId": "window_transform_stream_4",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatLocation",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        },
        {
          "id": 26,
          "versionId": 6,
          "streamId": "window_notifier_stream_4",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatLocation",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 26,
      "topologyId": 4,
      "topologyComponentBundleId": 4,
      "versionId": 6,
      "name": "CheckPulseRate_RULE",
      "description": "",
      "config": {
        "properties": {
          "rules": [
            7
          ]
        }
      },
      "outputStreams": [
        {
          "id": 23,
          "versionId": 6,
          "streamId": "rule_transform_stream_1",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatLocation",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        },
        {
          "id": 24,
          "versionId": 6,
          "streamId": "rule_notifier_stream_1",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatLocation",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 25,
      "topologyId": 4,
      "topologyComponentBundleId": 4,
      "versionId": 6,
      "name": "PreHypertension-AlertRule",
      "description": "",
      "config": {
        "properties": {
          "rules": [
            6
          ]
        }
      },
      "outputStreams": [
        {
          "id": 21,
          "versionId": 6,
          "streamId": "rule_transform_stream_4",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "Location",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        },
        {
          "id": 22,
          "versionId": 6,
          "streamId": "rule_notifier_stream_4",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "Location",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 24,
      "topologyId": 4,
      "topologyComponentBundleId": 4,
      "versionId": 6,
      "name": "Stage1-Hypertension-AlertRule",
      "description": "",
      "config": {
        "properties": {
          "rules": [
            5
          ]
        }
      },
      "outputStreams": [
        {
          "id": 19,
          "versionId": 6,
          "streamId": "rule_transform_stream_5",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "Location",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        },
        {
          "id": 20,
          "versionId": 6,
          "streamId": "rule_notifier_stream_5",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "Location",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 23,
      "topologyId": 4,
      "topologyComponentBundleId": 4,
      "versionId": 6,
      "name": "Stage2-Hypertension-AlertRule",
      "description": "",
      "config": {
        "properties": {
          "rules": [
            4
          ]
        }
      },
      "outputStreams": [
        {
          "id": 17,
          "versionId": 6,
          "streamId": "rule_transform_stream_6",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "Location",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        },
        {
          "id": 18,
          "versionId": 6,
          "streamId": "rule_notifier_stream_6",
          "description": null,
          "topologyId": 4,
          "fields": [
            {
              "name": "DeviceGUID",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "DeviceId",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientId",
              "type": "INTEGER",
              "optional": false
            },
            {
              "name": "DoctorEmail",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "HealthProviderName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PatientName",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "Location",
              "type": "STRING",
              "optional": false
            },
            {
              "name": "PulseRate_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "Respiration_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureSystolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BloodPressureDiastolic_AVG",
              "type": "DOUBLE",
              "optional": false
            },
            {
              "name": "BodyTemperature_AVG",
              "type": "DOUBLE",
              "optional": false
            }
          ],
          "timestamp": 1508787629614
        }
      ],
      "timestamp": 1508787629614
    }
  ],
  "edges": [
    {
      "id": 19,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 22,
      "toId": 27,
      "streamGroupings": [
        {
          "streamId": 16,
          "grouping": "FIELDS",
          "fields": [
            "DeviceGUID",
            "DeviceId",
            "PatientId",
            "DoctorEmail",
            "HealthProviderName",
            "PatientName",
            "PatLocation"
          ]
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 20,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 22,
      "toId": 29,
      "streamGroupings": [
        {
          "streamId": 16,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 24,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 27,
      "toId": 32,
      "streamGroupings": [
        {
          "streamId": 25,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 26,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 27,
      "toId": 26,
      "streamGroupings": [
        {
          "streamId": 25,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 27,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 27,
      "toId": 25,
      "streamGroupings": [
        {
          "streamId": 25,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 28,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 27,
      "toId": 24,
      "streamGroupings": [
        {
          "streamId": 25,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 29,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 27,
      "toId": 23,
      "streamGroupings": [
        {
          "streamId": 25,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 22,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 26,
      "toId": 31,
      "streamGroupings": [
        {
          "streamId": 24,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 23,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 26,
      "toId": 30,
      "streamGroupings": [
        {
          "streamId": 23,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 30,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 25,
      "toId": 33,
      "streamGroupings": [
        {
          "streamId": 22,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 31,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 24,
      "toId": 34,
      "streamGroupings": [
        {
          "streamId": 20,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 32,
      "versionId": 6,
      "topologyId": 4,
      "fromId": 23,
      "toId": 35,
      "streamGroupings": [
        {
          "streamId": 18,
          "grouping": "SHUFFLE",
          "fields": null
        }
      ],
      "timestamp": 1508787629614
    }
  ],
  "rules": [
    {
      "id": 7,
      "versionId": 6,
      "topologyId": 4,
      "name": "PulseRateOutOfRange",
      "description": "Pulse Rates out of norm, for Pulse Rates > 100 or < 40",
      "streams": [
        "window_transform_stream_4"
      ],
      "condition": "PulseRate_AVG > 100 OR PulseRate_AVG < 40",
      "sql": "SELECT *  FROM window_transform_stream_4 WHERE PulseRate_AVG > 100 OR PulseRate_AVG < 40",
      "actions": [
        {
          "__type": "com.hortonworks.streamline.streams.layout.component.rule.action.NotifierAction",
          "name": "notifierAction",
          "outputStreams": [
            "rule_notifier_stream_1"
          ],
          "notifierName": "Email Notifier",
          "outputFieldsAndDefaults": {
            "from": "hwx.nc.demo@gmail.com",
            "to": "hwx.nc.demo@gmail.com",
            "body": "${HealthProviderName},\n\nPatient ${PatientName} in location ${PatLocation} has an abnormal Pulse Rate of ${PulseRate_AVG}. \n\nDiagnosis: ${DiagnosisDescription}\n\nOther Patient Stats:\nTemperature: ${BodyTemperature_AVG}\nRespiration: ${Respiration_AVG}\nBlood Pressure: ${BloodPressureSystolic_AVG} / ${BloodPressureDiastolic_AVG}",
            "contentType": "text/plain",
            "subject": "${PatientId} abnormal Pulse Rate of ${PulseRate_AVG}"
          }
        },
        {
          "__type": "com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction",
          "name": "transformAction",
          "outputStreams": [
            "rule_transform_stream_1"
          ],
          "transforms": []
        }
      ],
      "outputStreams": [
        "rule_transform_stream_1",
        "rule_notifier_stream_1"
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 6,
      "versionId": 6,
      "topologyId": 4,
      "name": "PreHypertension-AlertRule",
      "description": "72 < PulseRateAVG < 80\n130 < Systolic BP < 140\n80 < Diastolic BP < 90\n",
      "streams": [
        "window_transform_stream_4"
      ],
      "condition": "BloodPressureDiastolic_AVG >= 120 AND BloodPressureSystolic_AVG < 140 AND BloodPressureDiastolic_AVG >= 80 AND BloodPressureDiastolic_AVG < 90",
      "sql": "SELECT *  FROM window_transform_stream_4 WHERE BloodPressureDiastolic_AVG >= 120 AND BloodPressureSystolic_AVG < 140 AND BloodPressureDiastolic_AVG >= 80 AND BloodPressureDiastolic_AVG < 90",
      "actions": [
        {
          "__type": "com.hortonworks.streamline.streams.layout.component.rule.action.NotifierAction",
          "name": "notifierAction",
          "outputStreams": [
            "rule_notifier_stream_4"
          ],
          "notifierName": "",
          "outputFieldsAndDefaults": {}
        }
      ],
      "outputStreams": [
        "rule_transform_stream_4",
        "rule_notifier_stream_4"
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 5,
      "versionId": 6,
      "topologyId": 4,
      "name": "Stage1-Hypertension-AlertRule",
      "description": "2. Stage-1 Hypertension\n\n140 <= Systolic BP < 160\n90 <= Diastolic BP < 100",
      "streams": [
        "window_transform_stream_4"
      ],
      "condition": "BloodPressureSystolic_AVG >= 140 AND BloodPressureSystolic_AVG < 160 AND BloodPressureDiastolic_AVG >= 90 AND BloodPressureDiastolic_AVG < 100",
      "sql": "SELECT *  FROM window_transform_stream_4 WHERE BloodPressureSystolic_AVG >= 140 AND BloodPressureSystolic_AVG < 160 AND BloodPressureDiastolic_AVG >= 90 AND BloodPressureDiastolic_AVG < 100",
      "actions": [
        {
          "__type": "com.hortonworks.streamline.streams.layout.component.rule.action.NotifierAction",
          "name": "notifierAction",
          "outputStreams": [
            "rule_notifier_stream_5"
          ],
          "notifierName": "",
          "outputFieldsAndDefaults": {}
        }
      ],
      "outputStreams": [
        "rule_transform_stream_5",
        "rule_notifier_stream_5"
      ],
      "timestamp": 1508787629614
    },
    {
      "id": 4,
      "versionId": 6,
      "topologyId": 4,
      "name": "Stage2-Hypertension-AlertRule",
      "description": "160 < Systolic BP\n100 < Diastolic BP",
      "streams": [
        "window_transform_stream_4"
      ],
      "condition": "BloodPressureSystolic_AVG > 160 AND BloodPressureDiastolic_AVG < 100",
      "sql": "SELECT *  FROM window_transform_stream_4 WHERE BloodPressureSystolic_AVG > 160 AND BloodPressureDiastolic_AVG < 100",
      "actions": [
        {
          "__type": "com.hortonworks.streamline.streams.layout.component.rule.action.NotifierAction",
          "name": "notifierAction",
          "outputStreams": [
            "rule_notifier_stream_6"
          ],
          "notifierName": "",
          "outputFieldsAndDefaults": {}
        }
      ],
      "outputStreams": [
        "rule_transform_stream_6",
        "rule_notifier_stream_6"
      ],
      "timestamp": 1508787629614
    }
  ],
  "windows": [
    {
      "id": 4,
      "versionId": 6,
      "topologyId": 4,
      "name": "window_auto_generated",
      "description": "window description auto generated",
      "streams": [
        "kafka_stream_1"
      ],
      "window": {
        "windowLength": {
          "class": ".Window$Duration",
          "durationMs": 60000
        },
        "slidingInterval": {
          "class": ".Window$Duration",
          "durationMs": 60000
        },
        "tsField": null,
        "lagMs": 0
      },
      "actions": [
        {
          "__type": "com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction",
          "name": "transformAction",
          "outputStreams": [
            "window_transform_stream_4"
          ],
          "transforms": []
        }
      ],
      "projections": [
        {
          "functionName": "MEAN",
          "args": [
            "PulseRate"
          ],
          "outputFieldName": "PulseRate_AVG"
        },
        {
          "functionName": "MEAN",
          "args": [
            "Respiration"
          ],
          "outputFieldName": "Respiration_AVG"
        },
        {
          "functionName": "MEAN",
          "args": [
            "BloodPressureSystolic"
          ],
          "outputFieldName": "BloodPressureSystolic_AVG"
        },
        {
          "functionName": "MEAN",
          "args": [
            "BloodPressureDiastolic"
          ],
          "outputFieldName": "BloodPressureDiastolic_AVG"
        },
        {
          "functionName": "MEAN",
          "args": [
            "BodyTemperature"
          ],
          "outputFieldName": "BodyTemperature_AVG"
        },
        {
          "expr": "DeviceGUID"
        },
        {
          "expr": "DeviceId"
        },
        {
          "expr": "PatientId"
        },
        {
          "expr": "DoctorEmail"
        },
        {
          "expr": "HealthProviderName"
        },
        {
          "expr": "PatientName"
        },
        {
          "expr": "PatLocation"
        }
      ],
      "groupbykeys": [
        "DeviceGUID",
        "DeviceId",
        "PatientId",
        "DoctorEmail",
        "HealthProviderName",
        "PatientName",
        "PatLocation"
      ],
      "outputStreams": [
        "window_transform_stream_27",
        "window_notifier_stream_27"
      ],
      "timestamp": 1508787629614
    }
  ],
  "branchRules": [],
  "bundleIdToType": {
    "1": "KAFKA",
    "12": "NOTIFICATION",
    "4": "RULE",
    "5": "WINDOW",
    "16": "DRUID",
    "10": "HDFS"
  },
  "topologyEditorMetadata": {
    "topologyId": 4,
    "versionId": 6,
    "data": "{\"sources\":[{\"x\":218.19961547851562,\"y\":33.57495880126953,\"id\":22}],\"sinks\":[{\"x\":687.9577026367188,\"y\":-200.0063934326172,\"id\":32},{\"x\":1142.479736328125,\"y\":29.760242462158203,\"id\":31},{\"x\":466.3250732421875,\"y\":1116.8795166015625,\"id\":29},{\"x\":1148.63037109375,\"y\":165.12786865234375,\"id\":30},{\"x\":1152.059326171875,\"y\":277.4087829589844,\"id\":33},{\"x\":1133.7655029296875,\"y\":456.42669677734375,\"id\":34},{\"x\":1138.9923095703125,\"y\":593.6302490234375,\"id\":35}],\"processors\":[{\"x\":829.3043212890625,\"y\":81.40373229980469,\"id\":26},{\"x\":467.35308837890625,\"y\":152.9609832763672,\"id\":27},{\"x\":830.6110229492188,\"y\":277.4087829589844,\"id\":25},{\"x\":834.5311279296875,\"y\":457.7333984375,\"id\":24},{\"x\":838.4512329101562,\"y\":593.6302490234375,\"id\":23}],\"graphTransforms\":{\"dragCoords\":[-6.13862367659064,20.3970959471215],\"zoomScale\":0.7652865264734993},\"customNames\":null}",
    "timestamp": 1508787629614
  }
}